<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PATCH</title>
    <link rel="stylesheet" type="text/css" href="bootstrap-5.0.2-dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="tabulator-master/dist/css/semantic-ui/tabulator_semantic-ui.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!--container-->
    <div class="container-fluid">
        
        <!--Loading-->
        <div class="loading">
            <div class="spinner-border" role="status">
                <span class="visually-hidden"></span>
            </div>
        </div>

        <!--Message-->
        <div class="alert grid hide" role="alert" id="alert_msg">
            <h5 class="text-center" id="msg"></h5>
        </div>

        <!--Load csv confirm-->
        <div id="load_confirm" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
            <div class="toast-header">
                <strong class="me-auto">Clear or append?</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                <button type="button" class="btn btn-secondary" id="toast_clear" data-bs-dismiss="toast">Clear</button>
                <button type="button" class="btn btn-secondary" id="toast_append" data-bs-dismiss="toast">Append</button>
            </div>
        </div>

        <!--MAIN body-->
        <div class="row mt-5">
            <div class="col">
                <h1 id="title">PATCH</h1>
            </div>
        </div>
        <div class="row mt-3">
            <div class="d-grid gap-2 col-2">
                <input class="form-control" type="file" accept=".csv" id="formFile" hidden>
                <button type="button" class="btn btn-lg btn-outline-dark" id="load_btn">Load CSV</button>
            </div>
            <div class="col-md-auto col-lg-2">
                <form class="form-floating">
                    <input type="text" class="form-control" id="floatingInputValue" placeholder="/user/local/folder/path" value="">
                    <label id="search_label" for="floatingInputValue">Search from path</label>
                </form>
            </div>
            <div class="d-grid gap-2 col-2">
                <button type="button" class="btn btn-lg btn-outline-dark" id="save_btn">Save CSV</button>
            </div>
            <div class="d-grid gap-2 offset-md-1 col-1">
                <button type="button" class="btn btn-lg btn-outline-danger" id="clear">Clear all</button>
            </div>
            <div class="col-1 offset-md-3">
                <button type="button" class="btn btn-light" id="modal_btn" data-bs-toggle="modal" data-bs-target="#preferences_modal">Preferences</button>
            </div>
        </div>

        <div class="row justify-content-md-end mt-3">
            <div class="col-md-auto btn-group" role="group">
                <button type="button" class="btn btn-secondary btn-sm ms-2" id="hide_all">HideALL</button>
                <button type="button" class="btn btn-secondary btn-sm" id="show_all">ShowALL</button>
                <button type="button" class="btn btn-secondary btn-sm" id="frame">Frame</button>
                <button type="button" class="btn btn-secondary btn-sm" id="timecode">Timecode</button>
                <button type="button" class="btn btn-secondary btn-sm" id="format">Format</button>
                <button type="button" class="btn btn-secondary btn-sm" id="ext">Extension</button>
                <button type="button" class="btn btn-secondary btn-sm" id="video">Video</button>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-2">
                <button type="button" id="select_all" class="btn btn-outline-secondary">Select ALL</button>
                <button type="button" id="deselect_all" class="btn btn-outline-secondary">Unselect ALL</button>
            </div>
            <div class="col-sm">
                Total : <span id="total-stats"></span> / Selected : <span id="select-stats"></span>
            </div>
            <div class="col-3">
                <input id="filter-value" type="text" class="form-control" placeholder="value to filter" aria-describedby="basic-addon1">
            </div>
            <div class="col-auto">
                <button type="button" class="btn btn-light" id="undo_btn">Undo</button>
                <button type="button" class="btn btn-light" id="redo_btn">Redo</button>
            </div>
            <div class="col-auto">
                <button type="button" class="btn btn-outline-light" id="redraw">ðŸ”„</button>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col" id="table">    
        </div>
        <div class="row justify-content-md-end mt-3">
            <div class="col col-lg-1">
                <button type="button" class="btn btn-outline-success btn-lg" id="pub_btn">PUBLISH</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="text-center text-muted">
            <small class="pb-2 pt-5">
                Â© 2021 <a href="mailto: jyub86@gmail.com" class="text-muted">jyub.P</a>
            </small>
        </div>
    </footer>



    <!-- Modal -->
    <div class="modal fade" id="preferences_modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="staticBackdropLabel">Preferences</h2>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="autosave_check" checked>
                        <label class="form-check-label" for="autosave_check">
                            Auto save
                        </label>
                    </div>
                </div>
                <div class="modal-body container">
                    <div class="row mt-1">
                        <h3>Support</h3>
                    </div>
                    <div class="row mt-3">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="ffmpeg_path_addon">FFmpeg path</span>
                            <input type="text" class="form-control" id="ffmpeg_path" placeholder="support/ffmpeg" value="support/ffmpeg" aria-describedby="ffmpeg_path_addon">
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="ffprobe_path_addon">FFprobe path</span>
                            <input type="text" class="form-control" id="ffprobe_path" placeholder="support/ffprobe" value="support/ffprobe" aria-describedby="ffprobe_path_addon">
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="oiioTool_path_addon">OIIOTool path</span>
                            <input type="text" class="form-control" id="oiioTool_path" placeholder="support/oiioTool" value="support/oiioTool" aria-describedby="oiioTool_path_addon">
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="ocio_path_addon">OCIO config path</span>
                            <input type="text" class="form-control" id="ocio_path" placeholder="support/aces_1.0.3/config.ocio" value="support/aces_1.0.3/config.ocio" aria-describedby="ocio_path_addon">
                        </div>
                    </div>
                    <!--PUBLISH-->
                    <div class="row mt-4">
                        <h3>Publish</h3>
                    </div>
                    <div class="row mt-3">
                        <h5>Naming Rule</h5>
                    </div>
                    <div class="row">
                        <div class="col-2 offset-md-1">
                            <label for="splitter" class="">Splitter</label>
                            <input type="text" class="form-control" id="splitter" placeholder="_">
                        </div>
                        <div class="col-2 offset-md-1 my-auto">
                            <h6 class="align-bottom">EXAMPLES :</h6>
                        </div>
                        <div class="col-2">
                            <label for="shotname" class="">SHOTNAME</label>
                            <input type="text" class="form-control" id="shotname" placeholder="SS_0010">
                        </div>
                        <div class="col-2">
                            <label for="prefix" class="">PREFIX</label>
                            <input type="text" readonly class="form-control-plaintext" id="prefix" placeholder="SS">
                        </div>
                        <div class="col-2">
                            <label for="suffix" class="">SUFFIX</label>
                            <input type="text" readonly class="form-control-plaintext" id="suffix" placeholder="0010">
                        </div>
                    <div class="row">
                        <div class="col-2 offset-md-1">
                            <label for="seqsplitter" class="">Seqeunce Splitter</label>
                            <input type="text" class="form-control" id="seqsplitter" placeholder=".">
                        </div>
                        <div class="col-2">
                            <label for="seqpad" class="">Seqeunce pad</label>
                            <input type="text" class="form-control" id="seqpad" placeholder="4">
                        </div>
                        <div class="col-2">
                            <label for="startat" class="">Start at</label>
                            <input type="text" class="form-control" id="startat" placeholder="1001">
                        </div>
                    </div>
                    <!--OPTION-->
                    <div class="row mt-3">
                        <h5>Option</h5>
                    </div>
                    <!--THUMBNAIL-->
                    <div class="row mt-2 ms-1">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="thumb_check" checked>
                            <label class="form-check-label" for="thumb_check">Thumbnail</label>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-3 offset-md-1">
                            <label for="thumb_colorspace_in" class="thumb">Colorspace IN</label>
                            <input type="text" class="form-control thumb" id="thumb_colorspace_in" placeholder="ACES - ACES2065-1">
                        </div>
                        <div class="col-3">
                            <label for="thumb_colorspace_out" class="thumb">Colorspace OUT</label>
                            <input type="text" class="form-control thumb" id="thumb_colorspace_out" placeholder="Output - Rec.709">
                        </div>
                        <div class="col-1">
                            <label for="thumb_width" class="thumb">Format</label>
                            <input type="text" class="form-control thumb" id="thumb_width" placeholder="1280">
                        </div>
                        <div class="col-auto formatx no-padding thumb">
                            <span>x</span>
                        </div>
                        <div class="col-1">
                            <label for="thumb_height" class="thumb"></label>
                            <input type="text" class="form-control thumb" id="thumb_height" placeholder="720">
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-6 offset-md-1">
                            <label for="thumb_dir" class="thumb">Directory</label>
                            <input type="text" class="form-control thumb" id="thumb_dir" placeholder=".../sample/thumbnail">
                        </div>
                        <div class="col-3">
                            <label for="thumb_name" class="thumb">File Name</label>
                            <input type="text" class="form-control thumb" id="thumb_name" placeholder="<SHOTNAME>">
                        </div>
                        <div class="col-2">
                            <label for="thumb_ext" class="thumb">Extension</label>
                            <select class="form-select thumb" id="thumb_ext" aria-label="Thumbnail extension">
                                <option value=".png">png</option>
                                <option value=".jpg">jpg</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-auto offset-md-1 my-auto">
                            <label class="thumb">Thumbnail path Example : </label>
                        </div>
                        <div class="col">
                            <input type="text" readonly class="form-control-plaintext thumb" id="thumb_path" placeholder=".../sample/thumbnail/<SHOTNAME>.png">
                        </div>
                    </div>
                    <!--PLATE-->
                    <div class="row mt-2 ms-1">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="plate_check" checked>
                            <label class="form-check-label" for="plate_check">Plate</label>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-3 offset-md-1">
                            <label for="plate_colorspace_in" class="plate">Colorspace IN</label>
                            <input type="text" class="form-control plate" id="plate_colorspace_in" placeholder="ACES - ACES2065-1">
                        </div>
                        <div class="col-3">
                            <label for="plate_colorspace_out" class="plate">Colorspace OUT</label>
                            <input type="text" class="form-control plate" id="plate_colorspace_out" placeholder="ACES - ACEScg">
                        </div>
                        <div class="col-1">
                            <label for="plate_width" class="plate">Format</label>
                            <input type="text" class="form-control plate" id="plate_width" placeholder="2048">
                        </div>
                        <div class="col-auto formatx no-padding plate">
                            <span>x</span>
                        </div>
                        <div class="col-1">
                            <label for="plate_height" class="plate"></label>
                            <input type="text" class="form-control plate" id="plate_height" placeholder="1152">
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-6 offset-md-1">
                            <label for="plate_dir" class="plate">Directory</label>
                            <input type="text" class="form-control plate" id="plate_dir" placeholder=".../sample/plate/<PREFIX>/<SUFFIX>">
                        </div>
                        <div class="col-3">
                            <label for="plate_name" class="plate">File Name</label>
                            <input type="text" class="form-control plate" id="plate_name" placeholder="<SHOTNAME>">
                        </div>
                        <div class="col-2">
                            <label for="plate_ext" class="plate">Extension</label>
                            <select class="form-select plate" id="plate_ext" aria-label="plate extension">
                                <option value=".exr">exr</option>
                                <option value=".dpx">dpx</option>
                                <option value=".tif">tif</option>
                                <option value=".sgi">sgi</option>
                                <option value=".tga">tga</option>
                                <option value=".png">png</option>
                                <option value=".jpg">jpg</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-auto offset-md-1 my-auto">
                            <label class="plate">Plate path Example : </label>
                        </div>
                        <div class="col">
                            <input type="text" readonly class="form-control-plaintext plate" id="plate_path" placeholder=".../sample/plate/<PREFIX>/<SUFFIX>/<SHOTNAME>.%04d.exr">
                        </div>
                    </div>
                    <!--Video-->
                    <div class="row mt-2 ms-1">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="video_check" checked>
                            <label class="form-check-label" for="video_check">Video</label>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-3 offset-md-1">
                            <label for="video_colorspace_in" class="video">Colorspace IN</label>
                            <input type="text" class="form-control video" id="video_colorspace_in" placeholder="ACES - ACES2065-1">
                        </div>
                        <div class="col-3">
                            <label for="video_colorspace_out" class="video">Colorspace OUT</label>
                            <input type="text" class="form-control video" id="video_colorspace_out" placeholder="Output - Rec.709">
                        </div>
                        <div class="col-1">
                            <label for="video_width" class="video">Format</label>
                            <input type="text" class="form-control video" id="video_width" placeholder="1920">
                        </div>
                        <div class="col-auto formatx no-padding video">
                            <span>x</span>
                        </div>
                        <div class="col-1">
                            <label for="video_height" class="video"></label>
                            <input type="text" class="form-control video" id="video_height" placeholder="1080">
                        </div>
                        <div class="col-1">
                            <label for="video_fps" class="video">FPS</label>
                            <input type="text" class="form-control video" id="video_fps" placeholder="24">
                        </div>
                        <div class="col-auto">
                            <label for="video_codec" class="video">Codec</label>
                            <select class="form-select video" id="video_codec" aria-label="Video codec">
                                <option value="h264">h264</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-6 offset-md-1">
                            <label for="video_dir" class="video">Directory</label>
                            <input type="text" class="form-control video" id="video_dir" placeholder=".../sample/plate">
                        </div>
                        <div class="col-3">
                            <label for="video_name" class="video">File Name</label>
                            <input type="text" class="form-control video" id="video_name" placeholder="<SHOTNAME>">
                        </div>
                        <div class="col-2">
                            <label for="video_ext" class="video">Extension</label>
                            <select class="form-select video" id="video_ext" aria-label="Video extension">
                                <option value=".mp4">mp4</option>
                                <option value=".mov">mov</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-auto offset-md-1 my-auto">
                            <label class="video">Video path Example : </label>
                        </div>
                        <div class="col">
                            <input type="text" readonly class="form-control-plaintext video" id="video_path" placeholder=".../sample/plate/<SHOTNAME>.mov">
                        </div>
                    </div>
                    <!--Proxy-->
                    <div class="row mt-2">
                        <div class="col">
                            <label class="video">Proxy image</label>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-6 offset-md-1">
                            <label for="proxy_dir" class="video">Directory</label>
                            <input type="text" class="form-control video" id="proxy_dir" placeholder=".../sample/plate/proxy">
                        </div>
                        <div class="col-3">
                            <label for="proxy_name" class="video">File Name</label>
                            <input type="text" class="form-control video" id="proxy_name" placeholder="<SHOTNAME>">
                        </div>
                        <div class="col-2">
                            <label for="proxy_ext" class="video">Extension</label>
                            <select class="form-select video" id="proxy_ext" aria-label="proxy extension">
                                <option value=".png">png</option>
                                <option value=".jpg">jpg</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-auto offset-md-1 my-auto">
                            <label class="video">Proxy path Example : </label>
                        </div>
                        <div class="col">
                            <input type="text" readonly class="form-control-plaintext video" id="proxy_path" placeholder=".../sample/plate/proxy/<SHOTNAME>.%04d.png">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-success" id="modal_close" data-bs-dismiss="modal">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="tabulator-master/dist/js/tabulator.min.js"></script>
    <script src="app.js"></script>

</body>
</html>